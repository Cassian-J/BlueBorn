.dll -> 3 -> pouvoir / -> perso / -> score / -> option / -> map
un symbole de couleur diff√©rentes pour diff√©recier les joueurs
clavier pour prendre les pseudos
chaque pouvoir a soit une dur√©e soit un nombre d'utilistion
tir vers la ou le joueur regarde


[‚Üë](#Table-of-Contents)


Calcul du Score
Score=((PV¬†restants%+(|(degat mis√ó4) - degat subis|)√ó5)√ó(Handicap))√ó10
Handicap= 1+(Diff√©rence¬†totale¬†des¬†stats/100)
Diff√©rence¬†totale¬†des¬†stats = (-atk% - spd% - rspd%- fr% - hp% - pspd%)/5
les changements de stats peuvent aller de -25% a +25% soit un multiplicateur maximal de 150% et minimal de 50%

exemple de diff√©rence de stats:
maximal:
  atk  -50% -> + 10 %
  spd  -50% -> + 10 %
  rspd -50% -> + 10 %
  fr   -50% -> + 10 %
  hp   -50% -> + 10 %
multiplicateur de 150%
minimal:
  atk  +50% -> - 10 %
  spd  +50% -> - 10 %
  rspd +50% -> - 10 %
  fr   +50% -> - 10 %
  hp   +50% -> - 10 %
multiplicateur de 50% 

soit 50 point <=> 250% de stats de diff√©rences
soit  1 point <=> 5% de stats de diff√©rences

score maximal th√©orique si aucun soin n'est pris:
PV¬†restants% = 100
degat mis = 163
degat subis = 0
Diff√©rence¬†totale¬†des¬†stats = 50

Score=((100%+(|(163√ó4) - 0|)√ó5)√ó(1+(50/100)))√ó10=50400
Handicap= 1+(50/100)

score minimal th√©orique si aucun soin n'est pris :
PV¬†restants% = 1
degat mis = 60
degat subis = 162
Diff√©rence¬†totale¬†des¬†stats = -50

Score=((1%+(|(60√ó4) - 162|)√ó5)√ó(1+(-50/100)))√ó10=1930
Handicap= 1+(-50/100)



exemple:

partie entre 2 joueurs :
|joueur 1          ||joueur 2                   |
|------------------||---------------------------|
| tank |   stats   || fire rate dps |   stats   |
|------|-----------||---------------|-----------|
|  hp  |    130    ||  hp           |    100    |
| atk  |     10    || atk           |      8    |
| spd  |     80    || spd           |    100    |
| rspd |    100    || rspd          |    100    |
|  fr  |    0.6    ||  fr           |    1.4    |

changement des stats de chaque joueur :
|joueur 1          ||joueur 2                   |
|------------------||---------------------------|
| tank |   stats   || fire rate dps |   stats   |
|------|-----------||---------------|-----------|
|  hp  |   -25%    ||  hp           |    +0%    |
| atk  |   +10%    || atk           |    +5%    |
| spd  |   +10%    || spd           |   -10%    |
| rspd |    +0%    || rspd          |   -10%    |
|  fr  |   +20%    ||  fr           |   -10%    |
|  tot |   +15%    || tot           |   -25%    |

calcul de multiplicateur de diff√©rence de stats
joueur 1:
-(15-(-25))/5= -8 points
Diff√©rence¬†totale¬†des¬†stats = -8
joueur 2:
-(-25-15)/5= 8 points
Diff√©rence¬†totale¬†des¬†stats = 8

la partie dure 155 seconds
Le gagnant a 35% de c'est pv a la fin de la partie

calcul:
Score=((PV¬†restants%+(|(degat mis√ó4) - degat subis|)√ó5)√ó(Handicap))√ó10
Handicap= 1+(Diff√©rence¬†totale¬†des¬†stats/100)
PV¬†restants% = 35
degat mis = 120
degat subis = 65
Handicap= 1+(Diff√©rence¬†totale¬†des¬†stats/100)

si le joueur 1 gagne:

Diff√©rence¬†totale¬†des¬†stats = -8

donc ScoreJoueur1 = ((35+(480-65)√ó5)√ó(1+(-8/100)))√ó10 = 19,412
donc si le joueur 1 gagne, il a un score de 19,412


si le joueur 2 gagne:

Diff√©rence¬†totale¬†des¬†stats = -8

donc ScoreJoueur2 = ((35+(480-65)√ó5)√ó(1+(8/100)))√ó10 = 22,788
donc si le joueur 2 gagne, il a un score de 22,788


table dans la base de donn√©e:

score
perso avec leur changements
table pour enregistrer les joueur et leurs stats modifi√©


CREATE TABLE changement (
  uuid UUID PRIMARY KEY,  /////// id INTEGER PRIMARY KEY,
  Cuuid UUID FOREIGN KEY,  ////// Cid INTEGER FOREIGN KEY,
  pseudo TEXT,
  rspd INTEGER,
  spd INTEGER,
  hp INTEGER,
  atk INTEGER,
  fr INTEGER,
  pspd INTEGER
);

CREATE TABLE character (
  uuid UUID PRIMARY KEY,  /////// id INTEGER PRIMARY KEY,
  class TEXT,
  rspd INTEGER,
  spd INTEGER,
  hp INTEGER,
  atk INTEGER,
  fr FLOAT
);

CREATE TABLE score {
  uuid UUID PRIMARY KEY,  /////// id INTEGER PRIMARY KEY,
  pseudo TEXT,
  number INTEGER
}

ou peut etre que l'on va mettre des id normal a la place vu que c'est un jeu vid√©o 
et que pas grave si les id des perso + changement sont pas s√©curis√© comme pour une base de donn√© de site web

base de donn√© leg√®re vu qu'elle sera en local donc dans le style sqlite. pas besoin d'une place √©norme




### Defense Weapons üõ°Ô∏è
**Bulwark Shield** ‚Üí A massive shield that blocks 30% of incoming damage and can reflect projectiles.(duration of use: ? | number of uses: ?)   
**Guardian Mace** ‚Üí Heavy weapon that reduces damage taken by 15% while held.(duration of use: ? | number of uses: ?)   
**Fortress Blade** ‚Üí A sword that grants a temporary shield absorbing 10% of max HP after every successful block.(duration of use: ? | number of uses: ?)   
**Aegis Spear** ‚Üí When thrown, creates a defensive barrier that reduces incoming damage by 20% for 5 seconds.(duration of use: ? | number of uses: ?)   
**Titan Hammer** ‚Üí Slamming the ground creates a shockwave that knocks enemies back and grants temporary armor.(duration of use: ? | number of uses: ?)  
## Speed Items ‚ö°
**Wind Boots** ‚Üí Increases movement speed by 30% for ? seconds. (duration of use: ? | number of uses: ?)  
**Phantom Cloak** ‚Üí Grants a brief burst of transparency and a 50% speed boost for ? seconds. (duration of use: ? | number of uses: ?)  
**Sonic Talisman** ‚Üí Boosts movement speed by 70%, but disables attacking for ? seconds. (duration of use: ? | number of uses: ?)  
**Blink Pendant** ‚Üí Allows instant teleportation up to 5 meters away. (duration of use: ? | number of uses: ?)  
**Storm Gauntlets** ‚Üí Increases movement speed and attack speed by 20% for ? seconds. (duration of use: ? | number of uses: ?)  
## Attack Items ‚öîÔ∏è
**Doomblade** ‚Üí Increases attack power by 30% for ? seconds. (duration of use: ? | number of uses: ?)  
**Executioner‚Äôs Charm** ‚Üí Attacks apply Bleeding. (duration of use: ? | number of uses: ?)  
**Rage Pendant** ‚Üí Increases attack power by 20% but reduces defense by 10% for ? seconds. (duration of use: ? | number of uses: ?)  
**Warrior‚Äôs Seal** ‚Üí Heavy attacks deal bonus damage equal to 5% of the enemy‚Äôs missing HP. (duration of use: ? | number of uses: ?)  
## Fire Rate Items üî´
**Rapidfire Gloves** ‚Üí Increases attack speed by 50% for ? seconds. (duration of use: ? | number of uses: ?)  
**Machina Core** ‚Üí Doubles attack speed but reduces accuracy by 10% for ? seconds. (duration of use: ? | number of uses: ?)  
**Havoc Trigger** ‚Üí Each hit increases fire rate by 5% for ? seconds (stacks up to ? times). (duration of use: ? | number of uses: ?)  
**Stormfang Relic** ‚Üí Allows shooting two projectiles per attack for ? seconds. (duration of use: ? | number of uses: ?)  
**Turbo Modulator** ‚Üí Boosts ranged fire rate by 40% but increases reload time by 15% for ? seconds. (duration of use: ? | number of uses: ?)  
### Healing Weapons ‚ù§Ô∏è   
**Lifebinder Staff** ‚Üí Successful attacks restore 2% of max HP (Cooldown: ? seconds).(duration of use: ? | number of uses: ?)   
**Blessed Hammer** ‚Üí Healing aura activates when attacking, restoring 1% HP per second to allies nearby.(duration of use: ? | number of uses: ?)   
**Vitality Sword** ‚Üí Killing an enemy heals the wielder for 5% of their max HP.(duration of use: ? | number of uses: ?)   
**Seraph‚Äôs Bow** ‚Üí Arrows restore HP equal to 10% of the damage dealt.(duration of use: ? | number of uses: ?)   
**Phoenix Gauntlet** ‚Üí When HP drops below 20%, the next attack heals for 30% HP (once per life).(duration of use: ? | number of uses: ?)   
### Buff Weapons ‚ú®  
**Champion‚Äôs Lance** ‚Üí Grants a +10% attack and defense boost for 5 seconds after a successful hit.(duration of use: ? | number of uses: ?)   
**Divine Staff** ‚Üí Casts an aura that increases all allies' movement speed by 15% for ? seconds.(duration of use: ? | number of uses: ?)   
**Battle Cry Sword** ‚Üí Striking an enemy increases the wielder‚Äôs attack and movement speed by 10% for ? seconds.(duration of use: ? | number of uses: ?)   
**Energy Infused Gauntlet** ‚Üí Increases the wielder‚Äôs fire rate and attack power by 20% while attacking.(duration of use: ? | number of uses: ?)   
**Hero‚Äôs Greatsword** ‚Üí Randomly grants a buff on each hit: Attack +20%, Speed +30%, or Defense +25% for ? seconds.(duration of use: ? | number of uses: ?)   











using UnityEngine;
using System.Collections;
using System.IO.Ports;  // Si vous avez besoin de g√©rer des p√©riph√©riques s√©rie, par exemple un joystick s√©rie

public class InputManager : MonoBehaviour
{
    // Joystick Inputs (d√©j√† g√©r√©s par Unity)
    private float player1JoystickHorizontal;
    private float player1JoystickVertical;
    private float player2JoystickHorizontal;
    private float player2JoystickVertical;

    // D√©finir les GPIO pins pour les boutons
    private int player1ButtonUp = 17;    // Exemple GPIO pin pour le bouton 1 (haut)
    private int player1ButtonDown = 18;  // Exemple GPIO pin pour le bouton 2 (bas)
    private int player2ButtonUp = 27;    // Exemple GPIO pin pour le bouton 3 (haut)
    private int player2ButtonDown = 22;  // Exemple GPIO pin pour le bouton 4 (bas)

    // Variables pour lire les √©tats des boutons
    private bool player1ButtonUpPressed = false;
    private bool player1ButtonDownPressed = false;
    private bool player2ButtonUpPressed = false;
    private bool player2ButtonDownPressed = false;

    // Init
    void Start()
    {
        // Initialisation des GPIO pins pour les boutons
        InitializeGPIO();
    }

    // Update is called once per frame
    void Update()
    {
        // R√©cup√©ration des donn√©es des joysticks (Unity g√®re d√©j√† les joysticks USB automatiquement)
        player1JoystickHorizontal = Input.GetAxis("Horizontal_P1");
        player1JoystickVertical = Input.GetAxis("Vertical_P1");

        player2JoystickHorizontal = Input.GetAxis("Horizontal_P2");
        player2JoystickVertical = Input.GetAxis("Vertical_P2");

        // R√©cup√©ration des √©tats des boutons via les GPIO
        ReadButtonStates();

        // D√©tecter les actions des boutons et r√©agir
        HandleButtonPresses();
    }

    // Initialisation des GPIO pins pour les boutons
    void InitializeGPIO()
    {
        // Initialiser les GPIO pins pour les boutons en mode Input
        GPIOSetup(player1ButtonUp);
        GPIOSetup(player1ButtonDown);
        GPIOSetup(player2ButtonUp);
        GPIOSetup(player2ButtonDown);
    }

    // Configurer un GPIO pin en entr√©e avec pull-up
    void GPIOSetup(int pin)
    {
        string command = "gpio -g mode " + pin + " in";
        System.Diagnostics.Process.Start("/bin/bash", "-c \"" + command + "\"");
        command = "gpio -g mode " + pin + " up";  // Assurer un pull-up
        System.Diagnostics.Process.Start("/bin/bash", "-c \"" + command + "\"");
    }

    // Lire l'√©tat des boutons via les GPIO
    void ReadButtonStates()
    {
        player1ButtonUpPressed = ReadButtonState(player1ButtonUp);
        player1ButtonDownPressed = ReadButtonState(player1ButtonDown);
        player2ButtonUpPressed = ReadButtonState(player2ButtonUp);
        player2ButtonDownPressed = ReadButtonState(player2ButtonDown);
    }

    // Lire l'√©tat d'un bouton sp√©cifique (v√©rifie si le bouton est press√© ou non)
    bool ReadButtonState(int pin)
    {
        string command = "gpio -g read " + pin;
        System.Diagnostics.ProcessStartInfo psi = new System.Diagnostics.ProcessStartInfo()
        {
            FileName = "/bin/bash",
            Arguments = "-c \"" + command + "\"",
            RedirectStandardOutput = true,
            UseShellExecute = false,
            CreateNoWindow = true
        };
        System.Diagnostics.Process process = new System.Diagnostics.Process();
        process.StartInfo = psi;
        process.Start();
        string output = process.StandardOutput.ReadLine();
        process.WaitForExit();
        return output == "0";  // Si 0, le bouton est press√©, si 1, non press√©
    }

    // G√©rer les pressions des boutons
    void HandleButtonPresses()
    {
        if (player1ButtonUpPressed)
        {
            Debug.Log("Player 1 Button Up Pressed");
            // Ajouter votre logique ici
        }

        if (player1ButtonDownPressed)
        {
            Debug.Log("Player 1 Button Down Pressed");
            // Ajouter votre logique ici
        }

        if (player2ButtonUpPressed)
        {
            Debug.Log("Player 2 Button Up Pressed");
            // Ajouter votre logique ici
        }

        if (player2ButtonDownPressed)
        {
            Debug.Log("Player 2 Button Down Pressed");
            // Ajouter votre logique ici
        }
    }
}
